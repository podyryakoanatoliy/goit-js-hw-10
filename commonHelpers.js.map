{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst input = document.querySelector('#datetime-picker');\nconst startButton = document.querySelector('[data-start]');\n\nconst daysLabel = document.querySelector('[data-days]');\nconst hoursLabel = document.querySelector('[data-hours]');\nconst minutesLabel = document.querySelector('[data-minutes]');\nconst secondsLabel = document.querySelector('[data-seconds]');\n\nlet userSelectedDate;\nlet countdownInterval;\n\nstartButton.disabled = true;\nstartButton.style.backgroundColor = 'grey';\nstartButton.style.cursor = 'not-allowed';\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0].getTime();\n\n    if (userSelectedDate <= options.defaultDate.getTime()) {\n       iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future',\n        color: '#ef4040',\n        messageColor: '#fff',\n        titleColor: '#fff',\n        iconColor: '#fff',\n        position: 'topRight',\n      });\n      startButton.disabled = true;\n      startButton.style.backgroundColor = 'grey';\n      startButton.style.cursor = 'not-allowed';\n    } else {\n      startButton.disabled = false;\n      startButton.style.backgroundColor = 'blue';\n      startButton.style.cursor = 'pointer';\n    }\n  },\n};\n\nstartButton.addEventListener('click', onCountTime);\n\nfunction onCountTime() {\n  \n  startButton.disabled = true;\n  startButton.style.backgroundColor = 'grey';\n  startButton.style.cursor = 'not-allowed';\n  input.disabled = true;\ninput.style.cursor = 'not-allowed';\n    \n    \n  countdownInterval = setInterval(() => {\n    const timeRemaining = userSelectedDate - Date.now();\n\n    if (timeRemaining <= 0) {\n      clearInterval(countdownInterval);\n        iziToast.success({\n        title: 'OK',\n          message: `âœ… Countdown finished!`,\n        position: 'topRight'\n      });\n        input.disabled = false;\n        input.style.cursor = 'pointer';\n      return;\n    }\n\n    convertMs(timeRemaining);\n  }, 1000);\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = String(Math.floor(ms / day));\n  const hours = String(Math.floor((ms % day) / hour));\n  const minutes = String(Math.floor(((ms % day) % hour) / minute));\n  const seconds = String(Math.floor((((ms % day) % hour) % minute) / second));\n\n  daysLabel.innerHTML = days.padStart(2, '0');\n  hoursLabel.innerHTML = hours.padStart(2, '0');\n  minutesLabel.innerHTML = minutes.padStart(2, '0');\n  secondsLabel.innerHTML = seconds.padStart(2, '0');\n}\n\nflatpickr(\"#datetime-picker\", options);"],"names":["input","startButton","daysLabel","hoursLabel","minutesLabel","secondsLabel","userSelectedDate","countdownInterval","options","selectedDates","iziToast","onCountTime","timeRemaining","convertMs","ms","days","hours","minutes","seconds","flatpickr"],"mappings":"+IAKA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAc,SAAS,cAAc,cAAc,EAEnDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAe,SAAS,cAAc,gBAAgB,EAE5D,IAAIC,EACAC,EAEJN,EAAY,SAAW,GACvBA,EAAY,MAAM,gBAAkB,OACpCA,EAAY,MAAM,OAAS,cAE3B,MAAMO,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBH,EAAmBG,EAAc,CAAC,EAAE,QAAO,EAEvCH,GAAoBE,EAAQ,YAAY,QAAO,GAChDE,EAAS,MAAM,CACd,MAAO,QACP,QAAS,qCACT,MAAO,UACP,aAAc,OACd,WAAY,OACZ,UAAW,OACX,SAAU,UAClB,CAAO,EACDT,EAAY,SAAW,GACvBA,EAAY,MAAM,gBAAkB,OACpCA,EAAY,MAAM,OAAS,gBAE3BA,EAAY,SAAW,GACvBA,EAAY,MAAM,gBAAkB,OACpCA,EAAY,MAAM,OAAS,UAE9B,CACH,EAEAA,EAAY,iBAAiB,QAASU,CAAW,EAEjD,SAASA,GAAc,CAErBV,EAAY,SAAW,GACvBA,EAAY,MAAM,gBAAkB,OACpCA,EAAY,MAAM,OAAS,cAC3BD,EAAM,SAAW,GACnBA,EAAM,MAAM,OAAS,cAGnBO,EAAoB,YAAY,IAAM,CACpC,MAAMK,EAAgBN,EAAmB,KAAK,IAAG,EAEjD,GAAIM,GAAiB,EAAG,CACtB,cAAcL,CAAiB,EAC7BG,EAAS,QAAQ,CACjB,MAAO,KACL,QAAS,wBACX,SAAU,UAClB,CAAO,EACCV,EAAM,SAAW,GACjBA,EAAM,MAAM,OAAS,UACvB,MACD,CAEDa,EAAUD,CAAa,CACxB,EAAE,GAAI,CACT,CAEA,SAASC,EAAUC,EAAI,CAMrB,MAAMC,EAAO,OAAO,KAAK,MAAMD,EAAK,KAAG,CAAC,EAClCE,EAAQ,OAAO,KAAK,MAAOF,EAAK,MAAO,IAAI,CAAC,EAC5CG,EAAU,OAAO,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,CAAC,EACzDI,EAAU,OAAO,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EAE1EZ,EAAU,UAAYa,EAAK,SAAS,EAAG,GAAG,EAC1CZ,EAAW,UAAYa,EAAM,SAAS,EAAG,GAAG,EAC5CZ,EAAa,UAAYa,EAAQ,SAAS,EAAG,GAAG,EAChDZ,EAAa,UAAYa,EAAQ,SAAS,EAAG,GAAG,CAClD,CAEAC,EAAU,mBAAoBX,CAAO"}